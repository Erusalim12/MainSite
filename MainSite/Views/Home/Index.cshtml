@using MainSite.Extensions
@using MainSite.Models.News
@model MainSite.Models.News.NewsListModel
@{
    ViewData["Title"] = "Новости";
}

@Html.Partial("BirthdayUsers")

<div id="newsComponent">
    @Html.Partial("Create", new NewsItemModel())

    <div class="card-panel row">
        @foreach (var item in Model.News)
        {
            <div class="card_news">
                <div class="card_news-image"><img src="@item.UrlImg" alt="" /></div>
                <div class="card_news-main">
                    <div class="card_news-main-header"><span class="bold">@item.AutorFio</span> разместил сообщение в разделе <a href="@item.MenuItemAction">@item.MenuItemName</a></div>
                    <div class="card_news-main-title"><a href="@item.NameAction">@item.Name</a></div>
                    <div class="card_news-main-footer">@item.CreatedDate</div>
                </div>

                <div class="card_news-editor">
                    <a href="@Url.Action("edit")"><i class="material-icons">edit</i></a>
                    <a href="#" class="error"><i class="material-icons">close</i></a>
                </div>
            </div>
        }
    </div>
    @{
        var pager = Html.Pager(Model.PagerModel);
        if (!string.IsNullOrEmpty(pager.RenderHtmlContent()))
        {
            <div class="pager">
                @pager
            </div>
        }
    }
</div>

<script type="text/javascript">
    var vm = new Vue({
        el: '#newsComponent',
        data: {
            classObject: {
                'active': false,
                'desActive': false
            }
        },
        methods: {
            showCreator: function (active, desActive) {
                this.classObject['active'] = active;
                this.classObject['desActive'] = desActive;
            }
        }
    });
</script>